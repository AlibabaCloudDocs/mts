# 转码模版

本文介绍了如何创建自定义转码模板，并设置相关参数及条件。

## 背景信息

您可以根据需求添加自定义模板，自行设置模板参数及配置。在[创建转码任务](/cn.zh-CN/控制台指南/任务管理.md)或[创建工作流](/cn.zh-CN/控制台指南/工作流管理/创建工作流.md)设置**转码模板**时，选择自定义模板。

## 操作步骤

1.  登录[媒体处理控制台](https://mps.console.aliyun.com/executions/list)。
2.  在顶部菜单栏选择地域。

    ![地域](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7340183161/p242178.png)

3.  在左侧导航栏，选择**全局设置** \> **转码模板**，进入**转码模板**页面。
4.  单击**添加转码模板**。
5.  设置**基础参数**。

    ![基础](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3080514161/p243074.png)

    |参数|说明|
    |--|--|
    |**转码模板名称**|在文本框中输入您的转码模板名称。|
    |**封装格式**|在下拉列表中选择您需要的封装格式，默认格式（mp4）。|

6.  设置**视频参数**，勾选**禁用视频**后下方参数将不可设置。

    **说明：** 选中**禁用视频**则输出文件将不包含视频信息，适用于抽取视频文件音频信息的场景。视频转码参数说明，请参见[视频参数说明](/cn.zh-CN/API参考/附录/参数详情.md)。转码支持的输出格式，请参见[格式支持](/cn.zh-CN/API参考/附录/格式支持.md)。

    ![视频](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3080514161/p243078.png)

    |参数|说明|
    |--|--|
    |**编码格式**|在下拉列表中选择您需要的编码格式，默认格式（H.264）。|
    |**编码级别**|在下拉列表中选择您需要的编码级别，默认级别（适合高分辨率设备）。|
    |（可选）**码率**、**质量控制因子**、**视频宽度\(px\)**、**视频高度\(px\)**、**横竖屏自适应**、**帧率\(fps\)**、**关键帧间最大帧数**、**扫描模式**、**缓冲区大小**、**码率峰值**|将光标悬停于参数文本框中，根据控制台提示进行参数值填写。|

7.  单击**下一步**，进行**音频参数**设置。
8.  设置**音频参数**，勾选**禁用音频**后下方参数将不可设置。

    ![设置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3080514161/p232848.png)

    **说明：** 选中**禁用音频**则输出文件将不包含音频信息，该功能适用于抽取视频文件视频信息的场景。音频转码参数说明参见[音频参数说明](/cn.zh-CN/API参考/附录/参数详情.md)。

    |参数|说明|
    |--|--|
    |**编码格式**|在下拉列表中选择您需要的编码格式，默认格式（AAC）。**说明：** 若音频**编码格式**为MP3时，**采样率**数值不支持**96000**。 |
    |**采样率**|在下拉列表中选择您需要的采样率数值，默认数值（44100）。|
    |**输出码率**|在文本框中输入输出码率，默认数值（128）。取值：**8**~**1000**。|
    |**声道数**|在下拉列表中选择声道数，默认声道数（2）。|

9.  单击**下一步**，进行**高级参数**设置。
10. 设置**高级参数**。

    ![高级](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3080514161/p243081.png)

    |参数|说明|
    |--|--|
    |（可选）**检测视频分辨率**|单击**开关按钮**。在**源片视频分辨率小于模板时**选项中， 选择**按原片转码**或**不转码**。 |
    |（可选）**检查视频码率**|单击**开关按钮**。在**源片视频分辨率小于模板时**选项中， 选择**按原片转码**或**不转码**。 |
    |（可选）**检查音频码率**|单击**开关按钮**。在**源片视频分辨率小于模板时**选项中， 选择**按原片转码**或**不转码**。 |

11. 单击**提交**，完成转码模板创建。创建后在**转码模板**页面下方列表中查看已创建的转码模板信息，编辑或删除模板，请在**操作**列单击**编辑**或**删除**。

## 相关API

。

